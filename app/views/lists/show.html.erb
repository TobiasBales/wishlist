<% page_title(t("lists.show.page_title", list: @list.name)) %>
<%= render(B::Page.new(crumbs: [
  B::Crumb.new(text: t("lists.index.title"), to: lists_path),
  B::Crumb.new(text: t("lists.show.title", list: @list.name), to: @list)
], actions: [
  B::Action.new(text: t("lists.actions.edit"), to: edit_list_path(@list)),
  B::Action.new(text: t("lists.actions.destroy"), to: list_path(@list), method: :delete, confirm: t("general.confirm"))
])) do %>
<div id="<%= dom_id @list %>">
  <h5><%= @list.name %></h5>
  <h6><%= @list.person.name %></h6>
  <div class="row">
    <% @list.items.order(:name).each do |item| %>
      <div class="col-4 mb-3">
        <% subtitle = "bought" if item.done %>
        <%= render(B::Card.new(title: item.name, subtitle: subtitle, image: item.preview_or_placeholder, image_fill: "contain", disabled: item.done)) do |c| %>
          <% c.with_body do %>
            <%= render(B::Button.new(text: t("general.open"), to: item.url, target: "_blank")) %>
          <% end %>
        <% end %>
      </div>
    <% end %>
  </div>
<% end %>
